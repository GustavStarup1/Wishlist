<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wishlist</title>
    <link rel="stylesheet" th:href="@{styles/share.css}">
</head>
<body>
<div th:insert="~{home/fragments/navbar::navbar}"></div>
<h1>Your Wishes</h1>
<div>
    <details>
        <summary class="share">Share</summary>
        <label>
            <input size="40" type="text" th:value="@{http://localhost:8080/wishlist/{id}(id=${wishlist.id})}" readonly> <!--virker først når vi deployer-->
        </label>
    </details>
</div>
<table>
    <tr>
        <th>Name</th> <th>Description</th> <th>Price</th> <th>Link</th> <th>Reserved</th> <th>Bought</th> <th>Delete</th>
    </tr>
    <tr th:each="wish : ${wishes}">
        <td th:text="${wish.name}"></td>
        <td th:text="${wish.text}"></td>
        <td th:text="${wish.price}"></td>
        <td th:text="${wish.link}"></td>
        <td th:text="${wish.isReservedByUserId}"></td>
        <td th:text="${wish.isBought()}"></td>
        <td>
            <form action="/wishlist/wish/confirm_delete" method="get">
                <input type="hidden" name="id" th:value="${wish.id}">
                <button type="submit">Delete</button>
            </form>
        </td>
        <td>
            <form action="/wishlist/wish/Prepare_update" method="get">
                <input type="hidden" name="id" th:value="${wish.id}">
                <button type="submit">Update</button>
            </form>
        </td>
    </tr>


</table>
<a th:href="@{/wishlist/wish/{id}/new_wish(id=${wishlist.id})}">
    <button type="button">New wish</button>
</a>
</body>
</html>